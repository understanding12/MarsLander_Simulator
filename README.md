# MarsLander_Simulator
# –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–∞–¥–∫–∏ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∞–ø–ø–∞—Ä–∞—Ç–∞

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
2. [–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å](#–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–º–æ–¥–µ–ª—å)
3. [–£—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è](#—É—Ä–∞–≤–Ω–µ–Ω–∏—è-–¥–≤–∏–∂–µ–Ω–∏—è)
4. [–ú–æ–¥–µ–ª—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã](#–º–æ–¥–µ–ª—å-–∞—Ç–º–æ—Å—Ñ–µ—Ä—ã)
5. [–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#—Å–∏—Å—Ç–µ–º–∞-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
6. [–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—Å–∞–¥–∫–∏](#—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–ø–æ—Å–∞–¥–∫–∏)
7. [–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-—Å–∏—Å—Ç–µ–º—ã)
8. [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ü–µ–Ω–∫–∞](#—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã-–∏-–æ—Ü–µ–Ω–∫–∞)

## üöÄ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Å–∞–¥–∫–∏ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∞–ø–ø–∞—Ä–∞—Ç–∞ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –ø–ª–∞–Ω–µ—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è: –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è (–ø–∞—Ä–∞—à—é—Ç) –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–π —Ç—è–≥–∏ (–¥–≤–∏–≥–∞—Ç–µ–ª–∏). –ú–æ–¥–µ–ª—å —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ñ–∏–∑–∏–∫—É –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã, –¥–∏–Ω–∞–º–∏–∫—É –ø–æ–ª–µ—Ç–∞ –∏ —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## üìê –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

### –û—Å–Ω–æ–≤–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è

#### 1. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
\[
m\frac{dv}{dt} = -mg + T + D
\]

#### 2. –ö–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è
\[
\frac{dh}{dt} = v
\]
\[
a = \frac{dv}{dt} = \frac{-mg + T + D}{m}
\]

#### 3. –£—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è –º–∞—Å—Å—ã –∞–ø–ø–∞—Ä–∞—Ç–∞
\[
m = m_{\text{dry}} + m_{\text{fuel}}
\]
\[
\frac{dm_{\text{fuel}}}{dt} = -\dot{m}_{\text{fuel}} \cdot \frac{T}{T_{\text{max}}}
\]

## üåç –ú–æ–¥–µ–ª—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã

### –ü–ª–æ—Ç–Ω–æ—Å—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã (—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å)
\[
\rho(h) = \rho_0 \cdot e^{-h/H}
\]

### –°–∏–ª–∞ –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
\[
D = -\frac{1}{2} \rho C_d A v|v|
\]

**–≥–¥–µ:**
- \(\rho\) - –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –Ω–∞ –≤—ã—Å–æ—Ç–µ \(h\)
- \(\rho_0\) - –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
- \(H\) - —à–∫–∞–ª–∞ –≤—ã—Å–æ—Ç—ã –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã
- \(C_d\) - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
- \(A\) - —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞—è –ø–ª–æ—â–∞–¥—å
- \(v\) - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –≤–Ω–∏–∑)

## üéÆ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä —Ç—è–≥–∏

\[
T_{\text{raw}} = K_p e + K_i \int e\, dt + K_d \frac{de}{dt}
\]

**–≥–¥–µ:**
- \(e = v_{\text{target}} - v\) - –æ—à–∏–±–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏
- \(v_{\text{target}}\) - —Ü–µ–ª–µ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞ —Ç–µ–∫—É—â–µ–π –≤—ã—Å–æ—Ç–µ
- \(K_p, K_i, K_d\) - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Ç—è–≥–µ
\[
0 \leq T \leq T_{\text{max}}
\]

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—è–≥–∏
\[
\left|\frac{dT}{dt}\right| \leq \dot{T}_{\text{max}}
\]

#### –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Ç—è–≥–∏ (—Ñ–∏–ª—å—Ç—Ä –Ω–∏–∑–∫–∏—Ö —á–∞—Å—Ç–æ—Ç)
\[
T_{\text{filtered}} = \alpha T_{\text{prev}} + (1 - \alpha) T_{\text{raw}}
\]

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—Å–∞–¥–∫–∏

### –§–∞–∑—ã –ø–æ—Å–∞–¥–∫–∏

1. **–°–≤–æ–±–æ–¥–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ** (\(h > 12000\, \text{–º}\))
   - –¢–æ–ª—å–∫–æ –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–ø—É—Å–∞

2. **–ü–∞—Ä–∞—à—é—Ç–Ω–∞—è —Ñ–∞–∑–∞** (\(12000\, \text{–º} \leq h \leq 5000\, \text{–º}\))
   - –†–∞—Å–∫—Ä—ã—Ç–∏–µ –ø–∞—Ä–∞—à—é—Ç–∞ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è

3. **–î–≤–∏–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ–∞–∑–∞** (\(5000\, \text{–º} \leq h \leq 200\, \text{–º}\))
   - –í–∫–ª—é—á–µ–Ω–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç—å—é

4. **–§–∏–Ω–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞** (\(h < 200\, \text{–º}\))
   - –ú—è–≥–∫–∞—è –ø–æ—Å–∞–¥–∫–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é

### –¶–µ–ª–µ–≤—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ –≤—ã—Å–æ—Ç–µ

\[
v_{\text{target}}(h) = 
\begin{cases}
-25\, \text{–º/—Å}, & h > 2000\, \text{–º} \\
-15\, \text{–º/—Å}, & 1000\, \text{–º} < h \leq 2000\, \text{–º} \\
-8\, \text{–º/—Å}, & 500\, \text{–º} < h \leq 1000\, \text{–º} \\
-5\, \text{–º/—Å}, & 300\, \text{–º} < h \leq 500\, \text{–º} \\
-3\, \text{–º/—Å}, & 200\, \text{–º} < h \leq 300\, \text{–º} \\
-1.5\, \text{–º/—Å}, & 100\, \text{–º} < h \leq 200\, \text{–º} \\
-1.0\, \text{–º/—Å}, & 50\, \text{–º} < h \leq 100\, \text{–º} \\
-0.5\, \text{–º/—Å}, & h \leq 50\, \text{–º}
\end{cases}
\]

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã

### –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–ª–∞–Ω–µ—Ç–∞ | \(g\, (\text{–º/—Å}^2)\) | \(\rho_0\, (\text{–∫–≥/–º}^3)\) | \(H\, (\text{–º})\) |
|---------|------------------------|------------------------------|-------------------|
| –ó–µ–º–ª—è   | 9.81                   | 1.225                        | 8500              |
| –ú–∞—Ä—Å    | 3.71                   | 0.02                         | 11000             |
| –í–µ–Ω–µ—Ä–∞  | 8.87                   | 65.0                         | 16000             |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–ø–ø–∞—Ä–∞—Ç–∞

- **–°—É—Ö–∞—è –º–∞—Å—Å–∞**: \(m_{\text{dry}} = 2000\, \text{–∫–≥}\)
- **–ù–∞—á–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞ —Ç–æ–ø–ª–∏–≤–∞**: \(m_{\text{fuel}} = 480\, \text{–∫–≥}\)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞**: \(\dot{m}_{\text{fuel}} = 8\, \text{–∫–≥/—Å}\)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç—è–≥–∞**: \(T_{\text{max}} = 35000\, \text{–ù}\)
- **–ü–ª–æ—â–∞–¥—å –∫–æ—Ä–ø—É—Å–∞**: \(A_{\text{body}} = 15\, \text{–º}^2\)
- **–ü–ª–æ—â–∞–¥—å –ø–∞—Ä–∞—à—é—Ç–∞**: \(A_{\text{chute}} = 400\, \text{–º}^2\)
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –∫–æ—Ä–ø—É—Å–∞**: \(C_{d,\text{body}} = 1.2\)
- **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞—à—é—Ç–∞**: \(C_{d,\text{chute}} = 1.8\)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞

- **–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç**: \(K_p = 3000\)
- **–ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç**: \(K_i = 80\)
- **–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç**: \(K_d = 600\)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—è–≥–∏**: \(\dot{T}_{\text{max}} = 3000\, \text{–ù/—Å}\)

## üìä –ú–µ—Ç–æ–¥ —á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ –≠–π–ª–µ—Ä–∞ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —à–∞–≥–æ–º:
\[
\Delta t = 0.1\, \text{—Å}
\]

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ:**
```python
v += a * dt      # –°–∫–æ—Ä–æ—Å—Ç—å
h += v * dt      # –í—ã—Å–æ—Ç–∞  
t += dt          # –í—Ä–µ–º—è
